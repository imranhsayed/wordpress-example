(function() {
'use strict';
function c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var i;function p(){return i||(i=1,(function(e){(function(){var u={}.hasOwnProperty;function s(){for(var t="",r=0;r<arguments.length;r++){var n=arguments[r];n&&(t=a(t,f(n)))}return t}function f(t){if(typeof t=="string"||typeof t=="number")return t;if(typeof t!="object")return"";if(Array.isArray(t))return s.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var r="";for(var n in t)u.call(t,n)&&t[n]&&(r=a(r,n));return r}function a(t,r){return r?t?t+" "+r:t+r:t}e.exports?(s.default=s,e.exports=s):window.classNames=s})()})(o)),o.exports}var l=p();const m=c(l);export{m as c};

const { registerBlockType: U } = wp.blocks;const { jsx: o, jsxs: d, Fragment: q } = ReactJSXRuntime;;const { __: r } = wp.i18n;const { forwardRef: E, createElement: j, useRef: A, useEffect: M } = wp.element;const { ToolbarGroup: I, ToolbarButton: V, Popover: F } = wp.components;const { MediaReplaceFlow: G, MediaPlaceholder: D, store: y, useBlockProps: Z, BlockControls: $, __experimentalLinkControl: J, RichText: H, InnerBlocks: K } = wp.blockEditor;const { dispatch: x, useSelect: O, useDispatch: Q } = wp.data;const { store: S } = wp.notices;function C(e){var a,t,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(a=0;a<l;a++)e[a]&&(t=C(e[a]))&&(i&&(i+=" "),i+=t)}else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function W(){for(var e,a,t=0,i="",l=arguments.length;t<l;t++)(e=arguments[t])&&(a=C(e))&&(i&&(i+=" "),i+=a);return i}const X=e=>j("path",e),L=E(({className:e,isPressed:a,...t},i)=>{const l={...t,className:W(e,{"is-pressed":a})||void 0,"aria-hidden":!0,focusable:!1};return o("svg",{...l,ref:i})});L.displayName="SVG";const Y=o(L,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:o(X,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});function ee({imageID:e,imageURL:a,hasImageLabel:t=r("Replace image","one-novanta-theme"),noImageLabel:i=r("Add image","one-novanta-theme"),onSelectMedia:l,onResetMedia:s,noticeId:p="media-upload-error"}){const c=!!e&&e>0;return o(I,{children:o(G,{mediaId:e,mediaURL:a,allowedTypes:["image"],accept:"image/*",name:c?t:i,onSelect:l,onError:k=>{x(S).createErrorNotice(k,{type:"snackbar",id:p})},onReset:s})})}function ae({url:e,placeholderTitle:a,onSelect:t,wrapperClassName:i,imgClassName:l,imgAlt:s}){return o("div",{className:i,children:!!e?o("img",{src:e,alt:s||a,className:l}):o(D,{icon:"format-image",labels:{title:a},onSelect:t,onError:h=>{x(S).createErrorNotice(h,{type:"snackbar",id:"media-preview-error"})},accept:"image/*",allowedTypes:["image"]})})}const ie=()=>o("svg",{width:"8",height:"12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o("path",{d:"M0 10.59 4.58 6 0 1.41 1.41 0l6 6-6 6L0 10.59z",fill:"currentColor"})});function oe({attributes:e,setAttributes:a,context:t,clientId:i,isSelected:l}){const s=A(),{imageID:p,imageURL:c,imageAlt:h,link:k,linkMeta:b}=e,m=t["aquila/editMode"]??!0,w=t["aquila/imageRatio"]??"",v=t["aquila/imageSize"]??"";M(()=>{a({imageSize:v,imageRatio:w})},[v,w,a]);const{getBlockParents:N,getBlockName:R}=O(n=>({getBlockParents:n(y).getBlockParents,getBlockName:n(y).getBlockName}),[]),{selectBlock:B}=Q(y);M(()=>{if(!m&&l){const n=N(i);if(n.length>0){const u=n[n.length-1];R(u)==="aquila/tile-carousel"&&requestAnimationFrame(()=>{B(u)})}}},[i,m,N,R,B,l]);const g=[];switch(w){case"2:1":g.push("image-tile--two-one");break;case"3:2":g.push("image-tile--three-two");break;case"16:9":g.push("image-tile--sixteen-nine");break;default:g.push("image-tile--one-one");break}const P=Z({className:z("image-tile",g)}),_=n=>{if(!n)return;const u=n?.sizes?.large?.url||n?.url||null;a({imageURL:u,imageID:n?.id??0,imageAlt:n?.alt_text??""})},T=()=>{a({imageURL:"",imageID:0,imageAlt:""})};return d(q,{children:[d($,{children:[o(I,{children:o(V,{icon:Y,onClick:()=>a({showURLInput:!e.showURLInput}),label:r("Add Link for the Tile","aquila-theme")})}),o(ee,{imageID:p,imageURL:c,onSelectMedia:_,onResetMedia:T})]}),e.showURLInput&&m&&o(F,{position:"bottom center",onClose:()=>a({showURLInput:!1}),anchor:s.current,children:o(J,{settings:[],value:b,onRemove:()=>a({linkMeta:{},link:""}),onChange:n=>a({linkMeta:n,link:n?.url??""})},`image-tile-link-${i}`)}),d("div",{...P,children:[o(ae,{url:c,placeholderTitle:r("Image","aquila-theme"),onSelect:_,wrapperClassName:"image-tile__image-wrap",imgAlt:h||r("Image tile image","aquila-theme")}),o("div",{className:"image-tile__content",ref:s,children:c&&d(q,{children:[m?o(H,{tagName:"p",value:e.preHeading,onChange:n=>a({preHeading:n}),placeholder:r("Pre Heading","aquila-theme"),className:"image-tile__pre_heading has-tiny-font-size",allowedFormats:[]}):o("p",{className:"image-tile__pre_heading has-tiny-font-size",children:e.preHeading}),d("h3",{className:"image-tile__heading has-large-font-size",children:[m?o(H,{tagName:"span",value:e.heading,onChange:n=>a({heading:n}),placeholder:r("Heading","aquila-theme"),className:"image-tile__heading-text",allowedFormats:[]}):o("span",{className:"image-tile__heading-text",children:e.heading}),k&&o(ie,{})]})]})})]})]})}function te(){return o(K.Content,{})}const ne="https://schemas.wp.org/trunk/block.json",le=3,re="aquila/image-tile",se="0.1.0",ce="Image Tile",me="aquila",ge="image-flip-horizontal",de="A custom Image Tile Block for Aquila theme.",pe={attributes:{heading:"Sample Heading",imageSize:"large",imageRatio:"16:9",preHeading:"Sample Pre-Heading",showURLInput:!0}},he=["aquila/tile-carousel"],ue={inserter:!1},fe={link:{type:"string",default:""},heading:{type:"string",default:""},imageID:{type:"number",default:0},imageURL:{type:"string",default:""},linkMeta:{type:"object",default:{}},imageAlt:{type:"string",default:""},preHeading:{type:"string",default:""},showURLInput:{type:"boolean",default:!1},imageRatio:{type:"string",default:""},imageSize:{type:"string",default:""}},ke=["aquila/editMode","aquila/imageRatio","aquila/imageSize"],we="aquila-theme",ye="file:./index.js",ve="file:./style.css",Ne="file:./render.php",f={$schema:ne,apiVersion:le,name:re,version:se,title:ce,category:me,icon:ge,description:de,example:pe,parent:he,supports:ue,attributes:fe,usesContext:ke,textdomain:we,editorScript:ye,style:ve,render:Ne},Re=U(f.name,{edit:oe,save:te});console.log("Aquila Notice Block Registration:",{blockName:f.name,registered:!!Re,metadata:f});typeof wp<"u"&&wp.data&&wp.data.subscribe(()=>{const a=wp.data.select("core/blocks").getBlockTypes().find(t=>t.name===f.name);a&&console.log("âœ… Image Tile Block is available in editor:",a)});

})();