(()=>{var e={395:(e,a)=>{var t;!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var e="",a=0;a<arguments.length;a++){var t=arguments[a];t&&(e=o(e,l(t)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var a="";for(var t in e)i.call(e,t)&&e[t]&&(a=o(a,t));return a}function o(e,a){return a?e?e+" "+a:e+a:e}e.exports?(n.default=n,e.exports=n):void 0===(t=function(){return n}.apply(a,[]))||(e.exports=t)}()}},a={};function t(i){var n=a[i];if(void 0!==n)return n.exports;var l=a[i]={exports:{}};return e[i](l,l.exports,t),l.exports}t.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},t.d=(e,a)=>{for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{"use strict";const e=window.wp.blocks;var a=t(395),i=t.n(a);const n=window.wp.i18n,l=window.wp.primitives,o=window.ReactJSXRuntime,r=(0,o.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,o.jsx)(l.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),s=window.wp.element,c=window.wp.components,d=window.wp.blockEditor,g=window.wp.data,m=window.wp.notices;function u({imageID:e,imageURL:a,hasImageLabel:t=(0,n.__)("Replace image","one-novanta-theme"),noImageLabel:i=(0,n.__)("Add image","one-novanta-theme"),onSelectMedia:l,onResetMedia:r,noticeId:s="media-upload-error"}){const u=Boolean(e)&&e>0;return(0,o.jsx)(c.ToolbarGroup,{children:(0,o.jsx)(d.MediaReplaceFlow,{mediaId:e,mediaURL:a,allowedTypes:["image"],accept:"image/*",name:u?t:i,onSelect:l,onError:e=>{(0,g.dispatch)(m.store).createErrorNotice(e,{type:"snackbar",id:s})},onReset:r})})}function p({url:e,placeholderTitle:a,onSelect:t,wrapperClassName:i,imgClassName:n,imgAlt:l}){const r=Boolean(e);return(0,o.jsx)("div",{className:i,children:r?(0,o.jsx)("img",{src:e,alt:l||a,className:n}):(0,o.jsx)(d.MediaPlaceholder,{icon:"format-image",labels:{title:a},onSelect:t,onError:e=>{(0,g.dispatch)(m.store).createErrorNotice(e,{type:"snackbar",id:"media-preview-error"})},accept:"image/*",allowedTypes:["image"]})})}const h=()=>(0,o.jsx)("svg",{width:"8",height:"12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M0 10.59 4.58 6 0 1.41 1.41 0l6 6-6 6L0 10.59z",fill:"currentColor"})}),w=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"aquila/image-tile","version":"0.1.0","title":"Image Tile","category":"aquila","icon":"image-flip-horizontal","description":"A custom Image Tile Block for Aquila theme.","example":{"attributes":{"heading":"Sample Heading","imageSize":"large","imageRatio":"16:9","preHeading":"Sample Pre-Heading","showURLInput":true}},"parent":["aquila/tile-carousel"],"supports":{"inserter":false},"attributes":{"link":{"type":"string","default":""},"heading":{"type":"string","default":""},"imageID":{"type":"number","default":0},"imageURL":{"type":"string","default":""},"linkMeta":{"type":"object","default":{}},"imageAlt":{"type":"string","default":""},"preHeading":{"type":"string","default":""},"showURLInput":{"type":"boolean","default":false},"imageRatio":{"type":"string","default":""},"imageSize":{"type":"string","default":""}},"usesContext":["aquila/editMode","aquila/imageRatio","aquila/imageSize"],"textdomain":"aquila-theme","editorScript":"file:./index.js","style":"file:./style.css","render":"file:./render.php"}'),f=(0,e.registerBlockType)(w.name,{edit:function({attributes:e,setAttributes:a,context:t,clientId:l,isSelected:m}){var w,f,x;const v=(0,s.useRef)(),{imageID:k,imageURL:_,imageAlt:b,link:j,linkMeta:y}=e,R=null===(w=t["aquila/editMode"])||void 0===w||w,S=null!==(f=t["aquila/imageRatio"])&&void 0!==f?f:"",I=null!==(x=t["aquila/imageSize"])&&void 0!==x?x:"";(0,s.useEffect)(()=>{a({imageSize:I,imageRatio:S})},[I,S,a]);const{getBlockParents:N,getBlockName:q}=(0,g.useSelect)(e=>({getBlockParents:e(d.store).getBlockParents,getBlockName:e(d.store).getBlockName}),[]),{selectBlock:B}=(0,g.useDispatch)(d.store);(0,s.useEffect)(()=>{if(!R&&m){const e=N(l);if(e.length>0){const a=e[e.length-1];"aquila/tile-carousel"===q(a)&&requestAnimationFrame(()=>{B(a)})}}},[l,R,N,q,B,m]);const L=[];switch(S){case"2:1":L.push("image-tile--two-one");break;case"3:2":L.push("image-tile--three-two");break;case"16:9":L.push("image-tile--sixteen-nine");break;default:L.push("image-tile--one-one")}const A=(0,d.useBlockProps)({className:i()("image-tile",L)}),M=e=>{var t,i;e&&a({imageURL:e?.sizes?.large?.url||e?.url||null,imageID:null!==(t=e?.id)&&void 0!==t?t:0,imageAlt:null!==(i=e?.alt_text)&&void 0!==i?i:""})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d.BlockControls,{children:[(0,o.jsx)(c.ToolbarGroup,{children:(0,o.jsx)(c.ToolbarButton,{icon:r,onClick:()=>a({showURLInput:!e.showURLInput}),label:(0,n.__)("Add Link for the Tile","aquila-theme")})}),(0,o.jsx)(u,{imageID:k,imageURL:_,onSelectMedia:M,onResetMedia:()=>{a({imageURL:"",imageID:0,imageAlt:""})}})]}),e.showURLInput&&R&&(0,o.jsx)(c.Popover,{position:"bottom center",onClose:()=>a({showURLInput:!1}),anchor:v.current,children:(0,o.jsx)(d.__experimentalLinkControl,{settings:[],value:y,onRemove:()=>a({linkMeta:{},link:""}),onChange:e=>{var t;return a({linkMeta:e,link:null!==(t=e?.url)&&void 0!==t?t:""})}},`image-tile-link-${l}`)}),(0,o.jsxs)("div",{...A,children:[(0,o.jsx)(p,{url:_,placeholderTitle:(0,n.__)("Image","aquila-theme"),onSelect:M,wrapperClassName:"image-tile__image-wrap",imgAlt:b||(0,n.__)("Image tile image","aquila-theme")}),(0,o.jsx)("div",{className:"image-tile__content",ref:v,children:_&&(0,o.jsxs)(o.Fragment,{children:[R?(0,o.jsx)(d.RichText,{tagName:"p",value:e.preHeading,onChange:e=>a({preHeading:e}),placeholder:(0,n.__)("Pre Heading","aquila-theme"),className:"image-tile__pre_heading has-tiny-font-size",allowedFormats:[]}):(0,o.jsx)("p",{className:"image-tile__pre_heading has-tiny-font-size",children:e.preHeading}),(0,o.jsxs)("h3",{className:"image-tile__heading has-large-font-size",children:[R?(0,o.jsx)(d.RichText,{tagName:"span",value:e.heading,onChange:e=>a({heading:e}),placeholder:(0,n.__)("Heading","aquila-theme"),className:"image-tile__heading-text",allowedFormats:[]}):(0,o.jsx)("span",{className:"image-tile__heading-text",children:e.heading}),j&&(0,o.jsx)(h,{})]})]})})]})]})},save:function(){return(0,o.jsx)(d.InnerBlocks.Content,{})}});console.log("Aquila Notice Block Registration:",{blockName:w.name,registered:!!f,metadata:w}),"undefined"!=typeof wp&&wp.data&&wp.data.subscribe(()=>{const e=wp.data.select("core/blocks").getBlockTypes().find(e=>e.name===w.name);e&&console.log("âœ… Image Tile Block is available in editor:",e)})})()})();