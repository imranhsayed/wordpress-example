(function() {
'use strict';
function c(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var i;function p(){return i||(i=1,(function(e){(function(){var u={}.hasOwnProperty;function s(){for(var t="",r=0;r<arguments.length;r++){var n=arguments[r];n&&(t=a(t,f(n)))}return t}function f(t){if(typeof t=="string"||typeof t=="number")return t;if(typeof t!="object")return"";if(Array.isArray(t))return s.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var r="";for(var n in t)u.call(t,n)&&t[n]&&(r=a(r,n));return r}function a(t,r){return r?t?t+" "+r:t+r:t}e.exports?(s.default=s,e.exports=s):window.classNames=s})()})(o)),o.exports}var l=p();const m=c(l);export{m as c};

const { registerBlockType: U } = wp.blocks;const { jsx: i, jsxs: d, Fragment: M } = ReactJSXRuntime;;const { __: t } = wp.i18n;const { forwardRef: T, createElement: F, useRef: V, useEffect: y } = wp.element;const { ToolbarGroup: H, ToolbarButton: G, Popover: j } = wp.components;const { MediaReplaceFlow: Z, MediaPlaceholder: A, store: w, useBlockProps: D, BlockControls: $, __experimentalLinkControl: b, RichText: C, InnerBlocks: J } = wp.blockEditor;const { dispatch: P, useSelect: K, useDispatch: O } = wp.data;const { store: q } = wp.notices;function x(e){var a,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(a=0;a<l;a++)e[a]&&(n=x(e[a]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Q(){for(var e,a,n=0,o="",l=arguments.length;n<l;n++)(e=arguments[n])&&(a=x(e))&&(o&&(o+=" "),o+=a);return o}const W=e=>F("path",e),L=T(({className:e,isPressed:a,...n},o)=>{const l={...n,className:Q(e,{"is-pressed":a})||void 0,"aria-hidden":!0,focusable:!1};return i("svg",{...l,ref:o})});L.displayName="SVG";const X=i(L,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:i(W,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})});function Y({imageID:e,imageURL:a,hasImageLabel:n=t("Replace image","one-novanta-theme"),noImageLabel:o=t("Add image","one-novanta-theme"),onSelectMedia:l,onResetMedia:s,noticeId:h="media-upload-error"}){const c=!!e&&e>0;return i(H,{children:i(Z,{mediaId:e,mediaURL:a,allowedTypes:["image"],accept:"image/*",name:c?n:o,onSelect:l,onError:u=>{P(q).createErrorNotice(u,{type:"snackbar",id:h})},onReset:s})})}function ee({url:e,placeholderTitle:a,onSelect:n,wrapperClassName:o,imgClassName:l,imgAlt:s}){return i("div",{className:o,children:!!e?i("img",{src:e,alt:s||a,className:l}):i(A,{icon:"format-image",labels:{title:a},onSelect:n,onError:p=>{P(q).createErrorNotice(p,{type:"snackbar",id:"media-preview-error"})},accept:"image/*",allowedTypes:["image"]})})}const ae=()=>i("svg",{width:"8",height:"12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i("path",{d:"M0 10.59 4.58 6 0 1.41 1.41 0l6 6-6 6L0 10.59z",fill:"currentColor"})});function oe({attributes:e,setAttributes:a,context:n,clientId:o,isSelected:l}){const s=V(),{imageID:h,imageURL:c,imageAlt:p,link:u,linkMeta:I}=e,m=n["aquila/editMode"]??!0,k=n["aquila/imageRatio"]??"",v=n["aquila/imageSize"]??"";y(()=>{a({imageSize:v,imageRatio:k})},[v,k,a]);const{getBlockParents:N,getBlockName:_}=K(r=>({getBlockParents:r(w).getBlockParents,getBlockName:r(w).getBlockName}),[]),{selectBlock:R}=O(w);y(()=>{if(!m&&l){const r=N(o);if(r.length>0){const f=r[r.length-1];_(f)==="aquila/tile-carousel"&&requestAnimationFrame(()=>{R(f)})}}},[o,m,N,_,R,l]);const g=[];switch(k){case"2:1":g.push("image-tile--two-one");break;case"3:2":g.push("image-tile--three-two");break;case"16:9":g.push("image-tile--sixteen-nine");break;default:g.push("image-tile--one-one");break}const E=D({className:z("image-tile",g)}),B=r=>{if(!r)return;const f=r?.sizes?.large?.url||r?.url||null;a({imageURL:f,imageID:r?.id??0,imageAlt:r?.alt_text??""})},S=()=>{a({imageURL:"",imageID:0,imageAlt:""})};return d(M,{children:[d($,{children:[i(H,{children:i(G,{icon:X,onClick:()=>a({showURLInput:!e.showURLInput}),label:t("Add Link for the Tile","aquila-theme")})}),i(Y,{imageID:h,imageURL:c,onSelectMedia:B,onResetMedia:S})]}),e.showURLInput&&m&&i(j,{position:"bottom center",onClose:()=>a({showURLInput:!1}),anchor:s.current,children:i(b,{settings:[],value:I,onRemove:()=>a({linkMeta:{},link:""}),onChange:r=>a({linkMeta:r,link:r?.url??""})},`image-tile-link-${o}`)}),d("div",{...E,children:[i(ee,{url:c,placeholderTitle:t("Image","aquila-theme"),onSelect:B,wrapperClassName:"image-tile__image-wrap",imgAlt:p||t("Image tile image","aquila-theme")}),i("div",{className:"image-tile__content",ref:s,children:c&&d(M,{children:[m?i(C,{tagName:"p",value:e.preHeading,onChange:r=>a({preHeading:r}),placeholder:t("Pre Heading","aquila-theme"),className:"image-tile__pre_heading has-tiny-font-size",allowedFormats:[]}):i("p",{className:"image-tile__pre_heading has-tiny-font-size",children:e.preHeading}),d("h3",{className:"image-tile__heading has-large-font-size",children:[m?i(C,{tagName:"span",value:e.heading,onChange:r=>a({heading:r}),placeholder:t("Heading","aquila-theme"),className:"image-tile__heading-text",allowedFormats:[]}):i("span",{className:"image-tile__heading-text",children:e.heading}),u&&i(ae,{})]})]})})]})]})}function ie(){return i(J.Content,{})}const ne="aquila/image-tile",re={name:ne};U(re.name,{edit:oe,save:ie});

})();