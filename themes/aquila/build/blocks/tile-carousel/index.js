(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,i=window.wp.element,a=window.wp.data,l=window.wp.components,s=window.wp.blockEditor;window.React;const o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDggMTIiIGZpbGw9ImN1cnJlbnRDb2xvciIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMCAxMC41OSA0LjU4IDYgMCAxLjQxIDEuNDEgMGw2IDYtNiA2TDAgMTAuNTl6IiBmaWxsPSJjdXJyZW50Q29sb3IiLz48L3N2Zz4=",n=window.ReactJSXRuntime,r=JSON.parse('{"UU":"aquila/tile-carousel"}');(0,e.registerBlockType)(r.UU,{edit:function({attributes:r,setAttributes:d,clientId:c}){const{editMode:_,totalSlides:u}=r,m=(0,a.useSelect)(e=>e(s.store).getBlocks(c),[c]);(0,i.useEffect)(()=>{m&&m.length!==u&&d({totalSlides:m.length})},[m,u,d]);const g=(0,s.useBlockProps)({className:"tile-carousel__content"});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.InspectorControls,{children:(0,n.jsxs)(l.PanelBody,{title:(0,t.__)("Carousel Settings","aquila-theme"),className:"tile-carousel-editor__settings-panel",children:[(0,n.jsxs)(l.BaseControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("Slides Management","aquila-theme"),id:"slides-management",children:[(0,n.jsx)(l.Button,{variant:"primary",onClick:()=>{(0,a.dispatch)(s.store).insertBlocks((0,e.createBlock)("aquila/image-tile"),void 0,c,!1)},style:{marginBottom:"12px",display:"block"},disabled:!_,children:(0,t.__)("Add Carousel Slide","aquila-theme")}),(0,n.jsxs)("p",{children:[(0,t.__)("Total Slides:","aquila-theme")," ",u||0]})]}),(0,n.jsxs)(l.BaseControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("Toggle Edit Mode","aquila-theme"),id:"edit-mode-toggle",children:[(0,n.jsx)(l.Button,{variant:"secondary",onClick:()=>d({editMode:!_}),style:{display:"block"},children:_?(0,t.__)("Disable Edit Mode","aquila-theme"):(0,t.__)("Enable Edit Mode","aquila-theme")}),!_&&(0,n.jsx)(l.BaseControl,{label:(0,t.__)("Please enable the edit mode, to continue editing the card.","aquila-theme"),__nextHasNoMarginBottom:!0,id:"slides-management",className:"tile-carousel-editor__settings-panel__media--info"})]})]})}),(0,n.jsx)("div",{...g,children:(0,n.jsx)("div",{className:"tile-carousel__content",children:(0,n.jsxs)("div",{className:"tile-carousel__slider",children:[(0,n.jsx)("div",{className:"tile-carousel-editor__track",children:(0,n.jsx)("div",{className:"tile-carousel-editor__slides "+(_?"tile-carousel-editor__slides--edit":""),children:(0,n.jsx)(s.InnerBlocks,{allowedBlocks:["aquila/image-tile"],template:[["aquila/image-tile"]],orientation:"horizontal",templateLock:!1})})}),!_&&(0,n.jsxs)("div",{className:"tile-carousel-editor__navigation",children:[(0,n.jsx)("div",{className:"tile-carousel-editor__navigation-arrow tile-carousel-editor__navigation-arrow--previous",children:(0,n.jsx)("button",{className:"arrow-btn tile-carousel-editor__navigation-arrow-button",children:(0,n.jsx)("img",{src:o,alt:(0,t.__)("Previous","aquila-theme")})})}),(0,n.jsx)("div",{className:"tile-carousel-editor__navigation-arrow tile-carousel-editor__navigation-arrow--next",children:(0,n.jsx)("button",{className:"arrow-btn tile-carousel-editor__navigation-arrow-button",children:(0,n.jsx)("img",{src:o,alt:(0,t.__)("Next","aquila-theme")})})})]})]})})})]})},save:function(){return(0,n.jsx)(s.InnerBlocks.Content,{})}})})();